language: python

matrix:
  include:
  - os: linux
    dist: xenial
  - os: linux
    dist: bionic
  - os: osx
    language: generic
  - os: windows
    language: generic

addons:
  apt:
    packages:
    - clang
    - clang-format
    - clang-tidy
    - uncrustify
    - cppcheck
  homebrew:
    packages:
  chocolately:
    packages:
      - python3
      - llvm
      - uncrustify
      - cppcheck
# Windows does not yet support Python
branches:
  only:
  - python
install:
- pip3 install -r requirements.txt
# Tests need shell commands generated by pip
- pip3 install .
script: "./tests/run_tests"
